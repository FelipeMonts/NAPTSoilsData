setwd("C:/Felipe/LaserDifractionSoilTextureAnalysis/NAPTSoilsData") ;
# First we will need to install the packages we plan to use for this exercise (
# if they are not already installed on your computer).
# install.packages("httr", dependencies = TRUE)
# install.packages("stringr", dependencies = TRUE)
# install.packages('tabulizer', dependencies = TRUE)
# install.packages('stringi', dependencies = TRUE)
# httr is a package for downloading html
library(httr)
# A package for manipulating strings
library(stringr)
library(stringi)
dir.create("../ALPP_PDFs");
# for (i in seq(30,34)) {
#   download.file(paste0('https://www.collaborativetesting.com/assets/news/', i ,'_WebSum.pdf'), destfile= paste0('../ALPP_PDFs/','ALLP', i, '.pdf'), mode = 'wb' )
#
# }
library(tabulizer)
library(dplyr)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 22, '.pdf'),pages=c(125:127)) ;
Sample.ID<-c('SRS1311' , 'SRS1312', 'SRS1313' ,  'SRS1314' , 'SRS1315') ;
Texture.data.0<-ALPP.Texture
sss<-ALPP.Tables[[1]];
Median.row<-which(sss[,1] == "Grand Median") ;
MAD.row<-which(sss[,1] == "Median Abs Dev") ;
data.sss<-data.frame(as.numeric(sss[Median.row,which(!is.na(as.numeric(sss[Median.row,])))]), as.numeric(sss[MAD.row,which(!is.na(as.numeric(sss[MAD.row,])))]))
str(data.sss)
data.sss$Sample<-Sample.ID  ;
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
lll<-ALPP.Tables[[2]];
Median.row<-which(lll[,1] == "Grand Median") ;
MAD.row<-which(lll[,1] == "Median Abs Dev") ;
data.lll<-data.frame(as.numeric(lll[Median.row,which(!is.na(as.numeric(lll[Median.row,])))]), as.numeric(lll[MAD.row,which(!is.na(as.numeric(lll[MAD.row,])))]))
str(data.lll)
data.lll$Sample<-Sample.ID  ;
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
ccc<-ALPP.Tables[[3]];
Median.row<-which(ccc[,1] == "Grand Median") ;
MAD.row<-which(ccc[,1] == "Median Abs Dev") ;
data.ccc<-data.frame(as.numeric(ccc[Median.row,which(!is.na(as.numeric(ccc[Median.row,])))]), as.numeric(ccc[MAD.row,which(!is.na(as.numeric(ccc[MAD.row,])))]))
str(data.ccc)
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
Texture.data
ALPP.Texture
ALPP.Texture<-Texture.data
ALPP.Texture
rm(Texture.data , Texture.data.0)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 20, '.pdf'),pages=c(113:115)) ;
Sample.ID<-c('SRS1301' , 'SRS1302', 'SRS1303' ,  'SRS1304' , 'SRS1305') ;
Texture.data.0<-ALPP.Texture
sss<-ALPP.Tables[[1]];
Median.row<-which(sss[,1] == "Grand Median") ;
MAD.row<-which(sss[,1] == "Median Abs Dev") ;
data.sss<-data.frame(as.numeric(sss[Median.row,which(!is.na(as.numeric(sss[Median.row,])))]), as.numeric(sss[MAD.row,which(!is.na(as.numeric(sss[MAD.row,])))]))
str(data.sss)
data.sss$Sample<-Sample.ID  ;
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
lll<-ALPP.Tables[[2]];
Median.row<-which(lll[,1] == "Grand Median") ;
MAD.row<-which(lll[,1] == "Median Abs Dev") ;
data.lll<-data.frame(as.numeric(lll[Median.row,which(!is.na(as.numeric(lll[Median.row,])))]), as.numeric(lll[MAD.row,which(!is.na(as.numeric(lll[MAD.row,])))]))
str(data.lll)
data.lll$Sample<-Sample.ID  ;
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
ccc<-ALPP.Tables[[3]];
Median.row<-which(ccc[,1] == "Grand Median") ;
MAD.row<-which(ccc[,1] == "Median Abs Dev") ;
data.ccc<-data.frame(as.numeric(ccc[Median.row,which(!is.na(as.numeric(ccc[Median.row,])))]), as.numeric(ccc[MAD.row,which(!is.na(as.numeric(ccc[MAD.row,])))]))
str(data.ccc)
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
Texture.data
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
Texture.data
ALPP.Texture<-rbind(Texture.data.0,Texture.data)  ;
ALPP.Texture
rm(Texture.data , Texture.data.0)
View(ALPP.Texture)
View(ALPP.Texture)
.libPaths("C:/Felipe/SotwareANDCoding/R_Library/library")  ;
# Preliminaries
rm(list = ls())
setwd("C:/Felipe/LaserDifractionSoilTextureAnalysis/NAPTSoilsData") ;
# httr is a package for downloading html
library(httr)
# A package for manipulating strings
library(stringr)
library(stringi)
dir.create("../ALPP_PDFs");
library(tabulizer)
library(dplyr)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 21, '.pdf'),pages=c(113:115)) ;
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 21, '.pdf'),pages=c(122:127)) ;
Sample.ID<-c('SRSSRS1306' , 'SRSSRS1307',  'SRSSRS1308' , 'SRSSRS1309' , 'SRSSRS1310') ;
ALPP.Tables
ALPP.Tables[[2]]
Median.row<-which(sss[,1] == "Grand Median") ;
sss<-ALPP.Tables[[2]];
Median.row<-which(sss[,1] == "Grand Median") ;
Median.row
MAD.row<-which(sss[,1] == "Median Abs Dev") ;
MAD.row
data.sss<-data.frame(as.numeric(sss[Median.row,which(!is.na(as.numeric(sss[Median.row,])))]), as.numeric(sss[MAD.row,which(!is.na(as.numeric(sss[MAD.row,])))]))
str(data.sss)
sss[Median.row,]
sss[MAD.row,]
str_split(sss[Median.row,4]," ")
str_split(sss[Median.row,4]," ")[1]
str_split(sss[Median.row,4]," ")[1][1]
str_split(sss[Median.row,4]," ")[[1]]
str_split(sss[Median.row,4]," ")[[1]][1]
as.numeric(str_split(sss[Median.row,4]," ")[[1]][1])
data.sss[1,3]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][1])
data.sss[1,3]
data.sss
data.sss[1,4]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][2])
data.sss[1,5]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][3])
data.sss
data.sss[2,3]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][1])
data.sss[2,4]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][2])
data.sss[2,5]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][3])
data.sss
Sample.ID<-c('SRSSRS1306' , 'SRSSRS1310' ,'SRSSRS1307',  'SRSSRS1308' , 'SRSSRS1309' ) ;
data.sss$Sample<-Sample.ID  ;
data.sss[3,]<-Sample.ID  ;
data.sss
t(data.sss)
View(data.sss)
rm(data.sss)
data.sss<-data.frame(as.numeric(sss[Median.row,which(!is.na(as.numeric(sss[Median.row,])))]), as.numeric(sss[MAD.row,which(!is.na(as.numeric(sss[MAD.row,])))]))
str(data.sss)
data.sss[1,3]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][1])
data.sss[1,4]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][2])
data.sss[1,5]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][3])
data.sss[2,3]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][1])
data.sss[2,4]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][2])
data.sss[2,5]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][3])
data.sss
t(data.sss)
rm(data.sss)
data.sss<-data.frame(as.numeric(sss[Median.row,which(!is.na(as.numeric(sss[Median.row,])))]), as.numeric(sss[MAD.row,which(!is.na(as.numeric(sss[MAD.row,])))]))
data.sss
data.sss[3,1]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][1])
data.sss
data.sss[3,1]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][1])
data.sss[4,1]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][2])
data.sss[5,1]<-as.numeric(str_split(sss[Median.row,4]," ")[[1]][3])
data.sss[3,2]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][1])
data.sss[4,2]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][2])
data.sss[5,2]<-as.numeric(str_split(sss[MAD.row,4]," ")[[1]][3])
data.sss
data.sss$Sample<-Sample.ID  ;
data.sss
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
data.sss
ALPP.Tables[[4]]
Median.row<-which(lll[,1] == "Grand Median") ;
lll<-ALPP.Tables[[4]];
Median.row<-which(lll[,1] == "Grand Median") ;
MAD.row<-which(lll[,1] == "Median Abs Dev") ;
Median.row
MAD.row
data.lll<-data.frame(as.numeric(lll[Median.row,which(!is.na(as.numeric(lll[Median.row,])))]), as.numeric(lll[MAD.row,which(!is.na(as.numeric(lll[MAD.row,])))]))
str(data.lll)
data.lll
data.lll[3,1]<-as.numeric(str_split(lll[Median.row,4]," ")[[1]][1])
data.lll[4,1]<-as.numeric(str_split(lll[Median.row,4]," ")[[1]][2])
data.lll[5,1]<-as.numeric(str_split(lll[Median.row,4]," ")[[1]][3])
data.lll[3,2]<-as.numeric(str_split(lll[MAD.row,4]," ")[[1]][1])
data.lll[4,2]<-as.numeric(str_split(lll[MAD.row,4]," ")[[1]][2])
data.lll[5,2]<-as.numeric(str_split(lll[MAD.row,4]," ")[[1]][3])
data.lll
data.lll$Sample<-Sample.ID  ;
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
data.lll
ALPP.Tables[[6]]
ccc<-ALPP.Tables[[6]];
Median.row<-which(ccc[,1] == "Grand Median") ;
MAD.row<-which(ccc[,1] == "Median Abs Dev") ;
data.ccc<-data.frame(as.numeric(ccc[Median.row,which(!is.na(as.numeric(ccc[Median.row,])))]), as.numeric(ccc[MAD.row,which(!is.na(as.numeric(ccc[MAD.row,])))]))
str(data.ccc)
data.ccc[3,1]<-as.numeric(str_split(ccc[Median.row,4]," ")[[1]][1])
data.ccc[4,1]<-as.numeric(str_split(ccc[Median.row,4]," ")[[1]][2])
data.ccc[5,1]<-as.numeric(str_split(ccc[Median.row,4]," ")[[1]][3])
data.ccc[3,2]<-as.numeric(str_split(ccc[MAD.row,4]," ")[[1]][1])
data.ccc[4,2]<-as.numeric(str_split(ccc[MAD.row,4]," ")[[1]][2])
data.ccc[5,2]<-as.numeric(str_split(ccc[MAD.row,4]," ")[[1]][3])
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
data.ccc
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
Texture.data
ALPP.Texture<-Texture.data
rm(Texture.data , Texture.data.0)
Texture.data.0<-ALPP.Texture
View(ALPP.Texture)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 23, '.pdf'),pages=c(129:134)) ;
ALPP.Tables
View(ALPP.Tables)
View(ALPP.Tables)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 23, '.pdf'), pages=c(130,132,134)) ;
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 23, '.pdf'), pages=c(130,132,134)) ;
ALPP.Tables
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 24, '.pdf'), pages=c(130,132,134)) ;
ALPP.Tables
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 24, '.pdf'), pages=c(129:135)) ;
ALPP.Tables
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',31, '.pdf'), pages=c(130,132,134)) ;
ALPP.Tables
sss<-ALPP.Tables[[1]];
sss
Median.row<-which(sss[,1] == "Grand Median") ;
MAD.row<-which(sss[,1] == "Median Abs Dev") ;
Median.row
MAD.row
data.sss<-data.frame(as.numeric(sss[Median.row,which(!is.na(as.numeric(sss[Median.row,])))]), as.numeric(sss[MAD.row,which(!is.na(as.numeric(sss[MAD.row,])))]))
str(data.sss)
Sample.ID<-c('SRS1611',
'SSR1612',
'SRS1613',
'SRS1614',
'SRS1615',
) ;
Sample.ID<-c('SRS1611',
'SSR1612',
'SRS1613',
'SRS1614',
'SRS1615'  ) ;
Sample.ID
data.sss
data.sss$Sample<-Sample.ID  ;
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
data.sss
lll<-ALPP.Tables[[2]];
Median.row<-which(lll[,1] == "Grand Median") ;
MAD.row<-which(lll[,1] == "Median Abs Dev") ;
data.lll<-data.frame(as.numeric(lll[Median.row,which(!is.na(as.numeric(lll[Median.row,])))]), as.numeric(lll[MAD.row,which(!is.na(as.numeric(lll[MAD.row,])))]))
str(data.lll)
data.lll[3,1]<-as.numeric(str_split(lll[Median.row,4]," ")[[1]][1])
data.lll[4,1]<-as.numeric(str_split(lll[Median.row,4]," ")[[1]][2])
data.lll[5,1]<-as.numeric(str_split(lll[Median.row,4]," ")[[1]][3])
data.lll[3,2]<-as.numeric(str_split(lll[MAD.row,4]," ")[[1]][1])
data.lll[4,2]<-as.numeric(str_split(lll[MAD.row,4]," ")[[1]][2])
data.lll[5,2]<-as.numeric(str_split(lll[MAD.row,4]," ")[[1]][3])
lll<-ALPP.Tables[[2]];
Median.row<-which(lll[,1] == "Grand Median") ;
MAD.row<-which(lll[,1] == "Median Abs Dev") ;
data.lll<-data.frame(as.numeric(lll[Median.row,which(!is.na(as.numeric(lll[Median.row,])))]), as.numeric(lll[MAD.row,which(!is.na(as.numeric(lll[MAD.row,])))]))
str(data.lll)
data.lll$Sample<-Sample.ID  ;
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
data.lll
str(data.lll)
ccc<-ALPP.Tables[[3]];
Median.row<-which(ccc[,1] == "Grand Median") ;
MAD.row<-which(ccc[,1] == "Median Abs Dev") ;
data.ccc<-data.frame(as.numeric(ccc[Median.row,which(!is.na(as.numeric(ccc[Median.row,])))]), as.numeric(ccc[MAD.row,which(!is.na(as.numeric(ccc[MAD.row,])))]))
str(data.ccc)
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
Texture.data
View(Texture.data)
Sample.ID<-c('SRS1611',
'SSR1612',
'SRS1613',
'SRS1614',
'SRS1615'  ) ;
#
Sample.ID
sss<-ALPP.Tables[[1]];
Median.row<-which(sss[,1] == "Grand Median") ;
MAD.row<-which(sss[,1] == "Median Abs Dev") ;
data.sss<-data.frame(as.numeric(sss[Median.row,which(!is.na(as.numeric(sss[Median.row,])))]), as.numeric(sss[MAD.row,which(!is.na(as.numeric(sss[MAD.row,])))]))
str(data.sss)
data.sss$Sample<-Sample.ID  ;
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
str(data.sss)
data.sss
lll<-ALPP.Tables[[2]];
Median.row<-which(lll[,1] == "Grand Median") ;
MAD.row<-which(lll[,1] == "Median Abs Dev") ;
data.lll<-data.frame(as.numeric(lll[Median.row,which(!is.na(as.numeric(lll[Median.row,])))]), as.numeric(lll[MAD.row,which(!is.na(as.numeric(lll[MAD.row,])))]))
str(data.lll)
data.lll$Sample<-Sample.ID  ;
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
data.lll
ccc<-ALPP.Tables[[3]];
Median.row<-which(ccc[,1] == "Grand Median") ;
MAD.row<-which(ccc[,1] == "Median Abs Dev") ;
data.ccc<-data.frame(as.numeric(ccc[Median.row,which(!is.na(as.numeric(ccc[Median.row,])))]), as.numeric(ccc[MAD.row,which(!is.na(as.numeric(ccc[MAD.row,])))]))
str(data.ccc)
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
data.ccc
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
Texture.dat
Texture.data
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',32, '.pdf'), pages=c(131,133,135)) ;
ALPP.Tables
Sample.ID<-c('SRS1701',
'SSR1702',
'SRS1703',
'SRS1704',
'SRS1705'  ) ;
Sample.ID
Sample.ID
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',33, '.pdf'), pages=c(129,131,133)) ;
ALPP.Tables
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',32, '.pdf'), pages=c(131,133,135)) ;
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',32, '.pdf'), pages=c(131,133,135)) ;
ALPP.Tables
ALPP.Tables[[1]]
ALPP.Tables[[1]][9,1]
str_split(ALPP.Tables[[1]][9,1]," ")
str_split(ALPP.Tables[[1]][9,1]," ")[[1]]
Sample.ID<-str_split(ALPP.Tables[[1]][9,1]," ")[[1]]
Sample.ID
sss<-str_split(ALPP.Tables[[1]][10,1]," ")[[1]];
sss
sss<-str_split(ALPP.Tables[[1]][10,1]," ")[[1]][3:7];
sss
sss<-as.numeric(str_split(ALPP.Tables[[1]][10,1]," ")[[1]][3:7]);
sss
sss
sss.MAD<-as.numeric(str_split(ALPP.Tables[[1]][11,1]," ")[[1]][3:7]);
as.numeric(str_split(ALPP.Tables[[1]][11,1]," ")[[1]][3:7])
ALPP.Tables[[1]]
sss.MAD<-as.numeric(str_split(ALPP.Tables[[1]][11,1]," ")[[1]][4:8]);
sss.MAD
data.sss<-data.frame(sss.Mean,sss.MAD)
sss.Mean<-as.numeric(str_split(ALPP.Tables[[1]][10,1]," ")[[1]][3:7]);
sss.MAD<-as.numeric(str_split(ALPP.Tables[[1]][11,1]," ")[[1]][4:8]);
data.sss<-data.frame(sss.Mean,sss.MAD)
data.sss
data.sss$Sample<-Sample.ID  ;
data.sss
Sample.ID<-str_split(ALPP.Tables[[1]][9,1]," ")[[1]]
Sample.ID
lll.Mean<-as.numeric(str_split(ALPP.Tables[[2]][10,1]," ")[[1]][3:7]);
ALPP.Tables[[2]]
ALPP.Tables[[2]][10,2
ALPP.Tables[[2]][10,2]
str_split(ALPP.Tables[[2]][10,2]," ")[[1]]
as.numeric(str_split(ALPP.Tables[[2]][10,2]," ")[[1]])
lll.Mean<-as.numeric(str_split(ALPP.Tables[[2]][10,2]," ")[[1]]);
lll.MAD<-as.numeric(str_split(ALPP.Tables[[2]][11,2]," ")[[1]]);
lll.MAD
data.sss<-data.frame(sss.Mean,sss.MAD)
str(data.lll)
data.lll<-data.frame(lll.Mean,lll.MAD)
data.lll
data.lll$Sample<-Sample.ID  ;
data.lll
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
data.lll
ALPP.Tables[[3]]
ccc.Mean<-as.numeric(str_split(ALPP.Tables[[3]][10,2]," ")[[1]]);
ccc.Mean
ccc.MAD
ccc.MAD<-as.numeric(str_split(ALPP.Tables[[3]][11,2]," ")[[1]]);
ccc.MAD
data.ccc<-data.frame(ccc.Mean,ccc.MAD) ;
str(data.ccc)
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
data.ccc
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
View(Texture.data)
View(Texture.data)
#  Tell the program where the package libraries are  #####################
.libPaths("C:/Felipe/SotwareANDCoding/R_Library/library")  ;
###### Introduction to Web Scraping #####
# Preliminaries
rm(list = ls())
# Set your working directory to some place you can find
setwd("C:/Felipe/LaserDifractionSoilTextureAnalysis/NAPTSoilsData") ;
# First we will need to install the packages we plan to use for this exercise (
# if they are not already installed on your computer).
# install.packages("httr", dependencies = TRUE)
# install.packages("stringr", dependencies = TRUE)
# install.packages('tabulizer', dependencies = TRUE)
# install.packages('stringi', dependencies = TRUE)
# httr is a package for downloading html
library(httr)
# A package for manipulating strings
library(stringr)
library(stringi)
dir.create("../ALPP_PDFs");
# for (i in seq(30,34)) {
#   download.file(paste0('https://www.collaborativetesting.com/assets/news/', i ,'_WebSum.pdf'), destfile= paste0('../ALPP_PDFs/','ALLP', i, '.pdf'), mode = 'wb' )
#
# }
library(tabulizer)
library(dplyr)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',32, '.pdf'), pages=c(131,133,135)) ;
Sample.ID<-str_split(ALPP.Tables[[1]][9,1]," ")[[1]]
Texture.data.0<-ALPP.Texture
sss.Mean<-as.numeric(str_split(ALPP.Tables[[1]][10,1]," ")[[1]][3:7]);
sss.MAD<-as.numeric(str_split(ALPP.Tables[[1]][11,1]," ")[[1]][4:8]);
data.sss<-data.frame(sss.Mean,sss.MAD)
str(data.sss)
data.sss$Sample<-Sample.ID  ;
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
lll.Mean<-as.numeric(str_split(ALPP.Tables[[2]][10,2]," ")[[1]]);
lll.MAD<-as.numeric(str_split(ALPP.Tables[[2]][11,2]," ")[[1]]);
data.lll<-data.frame(lll.Mean,lll.MAD)
str(data.lll)
data.lll$Sample<-Sample.ID  ;
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
ccc.Mean<-as.numeric(str_split(ALPP.Tables[[3]][10,2]," ")[[1]]);
ccc.MAD<-as.numeric(str_split(ALPP.Tables[[3]][11,2]," ")[[1]]);
data.ccc<-data.frame(ccc.Mean,ccc.MAD) ;
str(data.ccc)
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
View(Texture.data)
View(Texture.data)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',33, '.pdf'), pages=c(129,131,133)) ;
ALPP.Tables
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',33, '.pdf'), pages=c(129,131,133)) ;
ALPP.Tables
Sample.ID<-str_split(ALPP.Tables[[1]][9,1]," ")[[1]]
Sample.ID
sss.Mean<-as.numeric(str_split(ALPP.Tables[[1]][10,1]," ")[[1]][3:7]);
sss.Mean
sss.MAD<-as.numeric(str_split(ALPP.Tables[[1]][11,1]," ")[[1]][4:8]);
sss.MAD
data.sss<-data.frame(sss.Mean,sss.MAD)
str(data.sss)
data.sss$Sample<-Sample.ID  ;
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
data.sss
lll.Mean<-as.numeric(str_split(ALPP.Tables[[2]][10,2]," ")[[1]]);
lll.MAD<-as.numeric(str_split(ALPP.Tables[[2]][11,2]," ")[[1]]);
data.lll<-data.frame(lll.Mean,lll.MAD)
str(data.lll)
data.lll$Sample<-Sample.ID  ;
names(data.lll)[1:2]<-c('Silt_Mean' , 'Silt_MAD' ) ;
data.lll
ccc.Mean<-as.numeric(str_split(ALPP.Tables[[3]][10,2]," ")[[1]]);
ccc.MAD<-as.numeric(str_split(ALPP.Tables[[3]][11,2]," ")[[1]]);
data.ccc<-data.frame(ccc.Mean,ccc.MAD) ;
str(data.ccc)
data.ccc$Sample<-Sample.ID  ;
names(data.ccc)[1:2]<-c('Clay_Mean' , 'Clay_MAD') ;
Texture.data<-merge(merge(data.sss, data.lll),data.ccc) ;
View(Texture.data)
View(Texture.data)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', 34, '.pdf'),pages=c(132,134,136)) ;
ALPP.Tables
i=34
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP', i, '.pdf'), pages=c(132,134,136) ) ;
ALPP.Tables
ALPP.Tables[[1]]
ALPP.Tables[[1]]
ALPP.Tables[[2]]
ALPP.Tables[[2]][3,1]
#  Tell the program where the package libraries are  #####################
.libPaths("C:/Felipe/SotwareANDCoding/R_Library/library")  ;
###### Introduction to Web Scraping #####
# Preliminaries
rm(list = ls())
# Set your working directory to some place you can find
setwd("C:/Felipe/LaserDifractionSoilTextureAnalysis/NAPTSoilsData") ;
# First we will need to install the packages we plan to use for this exercise (
# if they are not already installed on your computer).
# install.packages("httr", dependencies = TRUE)
# install.packages("stringr", dependencies = TRUE)
# install.packages('tabulizer', dependencies = TRUE)
# install.packages('stringi', dependencies = TRUE)
# httr is a package for downloading html
library(httr)
# A package for manipulating strings
library(stringr)
library(stringi)
dir.create("../ALPP_PDFs");
# for (i in seq(30,34)) {
#   download.file(paste0('https://www.collaborativetesting.com/assets/news/', i ,'_WebSum.pdf'), destfile= paste0('../ALPP_PDFs/','ALLP', i, '.pdf'), mode = 'wb' )
#
# }
library(tabulizer)
library(dplyr)
ALPP.Tables <- extract_tables(paste0('../ALPP_PDFs/','ALLP',34, '.pdf'), pages=c(132,134,136)) ;
ALPP.Tables
str_split(ALPP.Tables[[2]][3,1]," ")
sss.Mean<-as.numeric(str_split(ALPP.Tables[[2]][3,1]," ")[[1]][3:4]);
sss.Mean
sss.Mean
sss.Mean[3:5]<-as.numeric(ALPP.Tables[[2]][3,2:5]) ;
ALPP.Tables[[2]]
sss.Mean[3:5]<-as.numeric(ALPP.Tables[[2]][3,2:4]) ;
sss.Mean
sss.MAD<-as.numeric(str_split(ALPP.Tables[[2]][4,1]," ")[[1]][4:5]);
sss.MAD
sss.MAD[3:5]<-as.numeric(ALPP.Tables[[2]][4,2:4]) ;
data.sss<-data.frame(sss.Mean,sss.MAD)
data.sss
Sample.ID<-c('SRS1711', 'SRS1712', 'SRS1713' ,' SRS1714', ' SRS1715') ;
data.sss$Sample<-Sample.ID  ;
names(data.sss)[1:2]<-c('Sand_Mean','Sand_MAD' ) ;
data.sss
ALPP.Tables[[2]]
ALPP.Tables[[4]]
View(data.sss)
View(data.sss)
ALPP.Tables[[6]]
